# Phantom Brigade 日本語化Mod

Copyright (c) 2020, Ichihito Ohi

## 必ず守ってください
### ゲーム本体のバージョンを確認して，同じバージョンのModを使用してください．
ゲーム本体のバージョンは，ゲームランチャーの設定メニューまたは `Configs\buildinfo.yaml` で確認できます．

### ゲーム本体のアップデート後は，一度ゲーム本体を再インストールしてから新しいModを適用してください．
ゲームランチャーの『確認する』機能ではModの古いファイルを除去できません．ゲームすべてをアンインストールするか， `Configs/Text` フォルダを手動で削除してから『確認する』機能で復元してください．


## 適用方法
### 全体の流れ
**I. 本体ファイルの上書き（2種類の方法が選べます）**
- (a) 手動で上書き；よくわからない方はこちら．ただし，失敗した場合にゲームファイルが破損する可能性があります．
- (b) パッチファイルで上書き； `git apply` コマンドを使用します．ゲームファイルが破損する前に自動で停止します．

**II. 本体 Mod System の有効化**
- 翻訳の一部は本体 Mod System に対応しています．ゲーム内で Mod の有効化・無効化を切り替えることができます．

---
### I. 本体ファイルの上書き
0. ゲームのインストール先を確認してください．既定では `C:\Program Files\Epic Games\PhantomBrigade` です．
#### (a) 手動で上書き
1. ダウンロードした `Configs` フォルダで，ゲームのインストール先の同名フォルダを上書きしてください．

#### (b) パッチファイルで上書き
1. パッチファイルを配置する
    - ダウンロードした `Patches` フォルダを，ゲームのインストール先の `Configs` フォルダと同じ階層にコピーしてください．

1. コマンドプロンプトまたはPowerShellを起動する

1. ゲームのインストール先に移動する
    ```Batchfile
    cd C:\Program Files\Epic Games\PhantomBrigade
    ```

1. パッチファイルを適用する
    ```Batchfile
    git apply -p2 Patches/<jp-ver-yyyymmdd>.patch
    ```

    - `<jp-ver-yyyymmdd>.patch` を適用するパッチファイルの名前に変更してから以下のコマンドを実行してください．
    オプション `-p2` は省略せずに指定してください．

    - `error: ` が表示された場合は失敗です．エラー内容をよく読んでください．
    ただし，以下の警告は無視して構いません．
        - `trailing whitespace`
        - `warning: ... whitespace errors`

1. 追加ファイルを確認する
    - `Configs\Text` フォルダに `Japanese` フォルダが追加されていれば成功です．

### II. 本体 Mod System の有効化
1. Mod System フォルダを確認する
    - ユーザーフォルダの `Documents/My Games/Phantom Brigade/Mods` に，各種 Mod を保存できます．

1. Mod ファイルを配置する
    - ダウンロードした `Mods/PB_Translation-jp` フォルダを上記フォルダにコピーしてください．

1. ゲームを起動する
    - この時点では Mod は有効化されていません．

1. Mod を有効化する
    - メインメニューの "Mods" タブをクリックしてください．
    - "PB_Translation-jp" の -> をクリックして，本 Mod を右側の優先度リストに移動してください．
    - 右側の優先度リストで， "PB_Translation-jp" のチェックボックスをクリックして有効化してください．
    - "SAVE CONFIG" をクリックしてください．

1. ゲームを再起動する
    - メインメニューの "Help Pages" に "日本語化Modについて" のページが追加されていれば，成功です．

---
## 既知の問題
### 言語設定を切り替えても表示が英語（日本語）のまま
~~希望する言語を選択・適用した後でゲームを再起動してください．~~ 現在，ゲーム本体の言語切替機能が一部で機能していないため，すべて日本語で置き換えています．英語に切り替えることはできません．英語に戻す場合は，ゲームを再インストールしてください．


## 更新履歴
### jp-0140-20211222
- 【祝】ひと通り翻訳が完了しました！
- 新規翻訳を含む翻訳済みの内容を本体アップデート Patch 0.14.0-b3016 に適用しました．
- 置換が困難なハードコーディングされた部分の翻訳について現在調査中です．
### jp-0130-20211117
- 新規翻訳を含む翻訳済みの内容を本体アップデート Patch 0.13.0-b2773 に適用しました．未翻訳の部分があります．
- Mod の適用方法を変更しました．
    - 一部の翻訳について，本体 Mod System で管理できるようになりました．具体的には， `Config/Data` および `Config/DataDecomposed` が対象です．この変更は，翻訳漏れの防止ならびに更新の効率化にむけた作業工程改善の一環です．
    - 上記に伴い，`Config/Data` および `Config/DataDecomposed` について，パッチファイルおよび手動上書き用ファイルから削除しました．
    - ただし， `Config/Text` は本体 Mod System が未対応のため，従来通り `git apply` または手動でのファイル上書きにより適用してください．
### jp-0120-20211020
- 新規翻訳を含む翻訳済みの内容を本体アップデート Patch 0.12.0-b2696 に適用しました．未翻訳の部分があります．
### jp-071-20210522
- 本体アップデート Patch 0.7.1-b1896 の変更を翻訳に反映しました．
- 本体アップデート Patch 0.7.0-b1882 で追加された一部のファイルについて，ファイル名に不要なバイト列を含む問題があります．本体の修正待ちです．
### jp-071-20210520
- 翻訳済みの内容を本体アップデート Patch 0.7.1-b1896 に適用しました．変更部分は翻訳されていません．
### jp-070-20210520
- 翻訳済みの内容を本体アップデート Patch 0.7.0-b1882 に適用しました．変更部分は翻訳されていません．
### jp-061-20210427
- 本体アップデート Patch 0.6.1-b1701 の変更を翻訳に反映しました．
- 翻訳範囲を拡大しました．
- ゲーム本体の言語切り替えが正しく機能しないため，一時的に `Configs/Text/English/Sectors` を `Configs/Text/Japanese/Sectors` で上書きしました．ゲーム内で英語を選択しても英語は表示されません．
### jp-061-20210422
- 翻訳済みの内容を本体アップデート Patch 0.6.1-b1701 に適用しました．変更部分は翻訳されていません．
### jp-051-20210416
- ゲーム中の一部を日本語化しました．

---
## 謝辞（敬称略）
### Steamグループ 日本語化作業者互助会
- Guzuo
- AgeBdeR
